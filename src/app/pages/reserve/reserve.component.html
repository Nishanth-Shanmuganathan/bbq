<mat-sidenav-container class="main" (window:resize)="validatePlatform()">
  <mat-sidenav
    #sidenav
    disableClose
    [fixedInViewport]="true"
    [position]="'end'"
  >
    <div class="final-cart bg-dark">
      <button mat-icon-button class="close" (click)="sidenav.toggle()">
        <mat-icon>close</mat-icon>
      </button>
      <div class="row m-0">
        <div class="col-12">
          <h1 class="font-weight-bold mt-5 ml-5">Reservation Details</h1>
        </div>
        <div class="col-12 p-5 m-0 confirmation">
          <div class="d-flex">
            <mat-icon class="">location_on</mat-icon>
            <p class="ml-2">
              <span class="address">9/622 a Kattukalam, Vedichipalayam</span>
              <span class="address">Nerur South</span>
              <span class="address">Karur</span>
            </p>
          </div>
          <p class="d-flex align-items-center">
            <mat-icon class="mr-2">date_range</mat-icon>
            {{ "28 September,2021" | date }}
          </p>
          <p class="d-flex align-items-center">
            <mat-icon class="mr-2">schedule</mat-icon>
            {{ "28 September,2021" | date }}
          </p>
        </div>
        <div class="col-12">
          <mat-card class="m-3 pb-0 bg-dark">
            <table style="width: 100%" cellpadding="20px">
              <tr>
                <td class="font-weight-bold">No. of guests</td>
                <td>9*500</td>
                <td class="text-right font-weight-bold">
                  {{ 5000 | currency }}
                </td>
              </tr>
              <tr>
                <td class="font-weight-bold">Sub Total</td>
                <td colspan="2" class="text-right font-weight-bold">
                  {{ 5000 | currency }}
                </td>
              </tr>
            </table>
            <p class="d-flex align-items-center m-3">
              <mat-icon>new_releases</mat-icon>
              <span class="font-weight-bold ml-2">Apply Offers</span>
            </p>

            <div class="row p-5 bg-light">
              <div
                class="col-12 d-flex justify-content-between align-items-center"
              >
                <span>Total</span>
                <span class="font-weight-bold" style="font-size: 16px">{{
                  6000 | currency
                }}</span>
              </div>
            </div>

            <div class="row mt-4 p-5 justify-content-center">
              <div class="col-auto mb-5">
                <button
                  mat-raised-button
                  (click)="sidenav.toggle()"
                  class="custom-book-table d-flex justify-content-center"
                >
                  <img
                    src="./../../../assets/icons/dish.png"
                    width="50px"
                    height="50px"
                  />
                  <p class="mb-0 font-weight-bold">Book Table</p>
                </button>
              </div>
            </div>
          </mat-card>
        </div>
      </div>
    </div>
  </mat-sidenav>
  <mat-sidenav-content class="pb-5">
    <section
      class="cart-section d-flex justify-content-around align-items-center pb-2 position-relative"
    >
      <div class="cart-details" *ngIf="!mobileBookingTableVisibility">
        <div class="scroll-content p-5">
          <h1 class="font-weight-bold mt-5 mb-2">Cuisines</h1>
          <mat-tab-group mat-align-tabs="center" color="accent">
            <mat-tab label="Veg" class="">
              <mat-accordion>
                <mat-expansion-panel
                  *ngFor="let item of data"
                  [ngClass]="{ 'disabled-pointer': !item.sub.length }"
                  [hideToggle]="!item.sub.length"
                >
                  <mat-expansion-panel-header>
                    {{ item.dish }}
                  </mat-expansion-panel-header>
                  <mat-expansion-panel
                    *ngFor="let subItem of item.sub"
                    [ngClass]="{ 'disabled-pointer': !subItem.sub.length }"
                    [hideToggle]="!subItem.sub.length"
                  >
                    <mat-expansion-panel-header>
                      {{ subItem.dish }}
                    </mat-expansion-panel-header>
                    <mat-expansion-panel
                      *ngFor="let miniSubItem of subItem.sub"
                      [ngClass]="{
                        'disabled-pointer': !miniSubItem.sub.length
                      }"
                      [hideToggle]="!miniSubItem.sub.length"
                    >
                      <mat-expansion-panel-header>
                        {{ miniSubItem.dish }}
                      </mat-expansion-panel-header>
                    </mat-expansion-panel>
                  </mat-expansion-panel>
                </mat-expansion-panel>
              </mat-accordion>
            </mat-tab>
            <mat-tab label="Non Veg">
              <mat-accordion>
                <mat-expansion-panel
                  *ngFor="let item of data"
                  [ngClass]="{ 'disabled-pointer': !item.sub.length }"
                  [hideToggle]="!item.sub.length"
                >
                  <mat-expansion-panel-header>
                    {{ item.dish }}
                  </mat-expansion-panel-header>
                  <mat-expansion-panel
                    *ngFor="let subItem of item.sub"
                    [ngClass]="{ 'disabled-pointer': !subItem.sub.length }"
                    [hideToggle]="!subItem.sub.length"
                  >
                    <mat-expansion-panel-header>
                      {{ subItem.dish }}
                    </mat-expansion-panel-header>
                    <mat-expansion-panel
                      *ngFor="let miniSubItem of subItem.sub"
                      [ngClass]="{
                        'disabled-pointer': !miniSubItem.sub.length
                      }"
                      [hideToggle]="!miniSubItem.sub.length"
                    >
                      <mat-expansion-panel-header>
                        {{ miniSubItem.dish }}
                      </mat-expansion-panel-header>
                    </mat-expansion-panel>
                  </mat-expansion-panel>
                </mat-expansion-panel>
              </mat-accordion>
            </mat-tab>
          </mat-tab-group>
        </div>
      </div>
      <button
        *ngIf="!mobileBookingTableVisibility && mobile"
        mat-raised-button
        (click)="mobileBookingTableVisibility = true"
        class="custom-book-table position-absolute d-block d-md-none justify-content-center"
        style="top: 10px; right: 20px; left: unset; transform: none"
      >
        <img
          src="./../../../assets/icons/dish.png"
          width="50px"
          height="50px"
        />
        <p class="mb-0 font-weight-bold">Book Table</p>
      </button>
      <div
        *ngIf="mobileBookingTableVisibility || !mobile"
        class="checkout mt-4 mt-md-0 d-flex align-items-center justify-content-center"
        style="width: 50%; height: 100%; max-width: 400px"
      >
        <div
          class="booking-card bg-light p-4 mr-md-5 ml-md-5 position-relative"
        >
          <button
            *ngIf="mobileBookingTableVisibility && mobile"
            (click)="mobileBookingTableVisibility = false"
            mat-icon-button
            class="position-absolute"
            style="top: -5px; right: -5px"
          >
            <mat-icon>close</mat-icon>
          </button>
          <h2 class="topic font-weight-bold">Let us serve you better</h2>
          <p class="mb-1">Donâ€™t wait in a line to enjoy your meal.</p>
          <p>Reserve a table in advance with us.</p>

          <mat-form-field
            color="primary"
            class="d-block position-relative mt-3"
          >
            <mat-label>Location</mat-label>
            <mat-select>
              <mat-option value="option">Option</mat-option>
            </mat-select>
            <mat-icon matSuffix class="text-muted"> location_on </mat-icon>
          </mat-form-field>
          <mat-form-field color="primary" class="d-block position-relative">
            <mat-label>No. of guests</mat-label>
            <input matInput type="number" min="1" max="9" />
            <mat-icon matSuffix class="text-muted">
              supervisor_account
            </mat-icon>
          </mat-form-field>

          <mat-form-field color="primary" class="d-block position-relative">
            <mat-label>Date</mat-label>
            <input matInput type="number" min="1" max="9" />
            <mat-icon matSuffix class="text-muted"> date_range </mat-icon>
          </mat-form-field>
          <p class="text-muted">Session</p>
          <mat-chip-list style="width: 100%">
            <mat-chip color="warn" class="d-inline-flex">Lunch</mat-chip>
            <mat-chip color="warn" class="d-inline-flex">Dinner</mat-chip>
          </mat-chip-list>
          <mat-form-field
            color="primary"
            class="d-block position-relative mt-3"
          >
            <mat-label>Timeslot</mat-label>
            <mat-select>
              <mat-option value="option">Option</mat-option>
            </mat-select>
            <mat-icon matSuffix class="text-muted"> schedule </mat-icon>
          </mat-form-field>

          <button
            mat-raised-button
            (click)="sidenav.toggle()"
            class="custom-book-table d-flex justify-content-center"
          >
            <img
              src="./../../../assets/icons/dish.png"
              width="50px"
              height="50px"
            />
            <p class="mb-0 font-weight-bold">Book Table</p>
          </button>
        </div>
      </div>
    </section>
  </mat-sidenav-content>
</mat-sidenav-container>
